Fs = 1000;
T = 1/Fs;
L = 1500;
t = (0:L-1)*T;
S = 0.7*sin(2*pi*50*t) + sin(2*pi*120*t);
X = S + 2*randn(size(t));   %加入噪声-信号干扰
% plot(X(1:50));   %很难确定频率分量

Y = fft(X);     %计算双侧频谱P2然后基于P2和偶数信号长度L计算单侧频谱P1
P2 = abs(Y/L);  %去虚部
P1 = P2(1:L/2+1);
P1(2:end-1) = 2*P1(2:end-1);  %负频率被截断能量损失-加到正频率上
f = Fs*(0:(L/2))/L;
plot(f,P1);

Y1 = fft(S);    %测试未被干扰的信号的fft
P21 = abs(Y1/L);
P11 = P21(1:L/2+1);
P11(2:end-1) = 2*P11(2:end-1);
plot(f,P11);
